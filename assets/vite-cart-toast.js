var O,g,ge,P,oe,ye,we,ke,X,J,Y,F={},be=[],Ee=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Z=Array.isArray;function $(t,e){for(var _ in e)t[_]=e[_];return t}function ee(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Re(t,e,_){var r,i,o,s={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?O.call(arguments,2):_),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return j(t,s,r,i,null)}function j(t,e,_,r,i){var o={type:t,props:e,key:_,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++ge,__i:-1,__u:0};return i==null&&g.vnode!=null&&g.vnode(o),o}function x(t){return t.children}function G(t,e){this.props=t,this.context=e}function L(t,e){if(e==null)return t.__?L(t.__,t.__i+1):null;for(var _;e<t.__k.length;e++)if((_=t.__k[e])!=null&&_.__e!=null)return _.__e;return typeof t.type=="function"?L(t):null}function Ce(t){var e,_;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((_=t.__k[e])!=null&&_.__e!=null){t.__e=t.__c.base=_.__e;break}return Ce(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&P.push(t)&&!T.__r++||oe!==g.debounceRendering)&&((oe=g.debounceRendering)||ye)(T)}function T(){for(var t,e,_,r,i,o,s,a=1;P.length;)P.length>a&&P.sort(we),t=P.shift(),a=P.length,t.__d&&(_=void 0,i=(r=(e=t).__v).__e,o=[],s=[],e.__P&&((_=$({},r)).__v=r.__v+1,g.vnode&&g.vnode(_),te(e.__P,_,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,o,i??L(r),!!(32&r.__u),s),_.__v=r.__v,_.__.__k[_.__i]=_,Ne(o,_,s),_.__e!=i&&Ce(_)));T.__r=0}function xe(t,e,_,r,i,o,s,a,c,u,d){var n,p,f,h,b,w,v=r&&r.__k||be,m=e.length;for(c=Fe(_,e,v,c,m),n=0;n<m;n++)(f=_.__k[n])!=null&&(p=f.__i===-1?F:v[f.__i]||F,f.__i=n,w=te(t,f,p,i,o,s,a,c,u,d),h=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&_e(p.ref,null,f),d.push(f.ref,f.__c||h,f)),b==null&&h!=null&&(b=h),4&f.__u||p.__k===f.__k?c=Se(f,c,t):typeof f.type=="function"&&w!==void 0?c=w:h&&(c=h.nextSibling),f.__u&=-7);return _.__e=b,c}function Fe(t,e,_,r,i){var o,s,a,c,u,d=_.length,n=d,p=0;for(t.__k=new Array(i),o=0;o<i;o++)(s=e[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(c=o+p,(s=t.__k[o]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?j(null,s,null,null,null):Z(s)?j(x,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?j(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,a=null,(u=s.__i=Ue(s,_,c,n))!==-1&&(n--,(a=_[u])&&(a.__u|=2)),a==null||a.__v===null?(u==-1&&(i>d?p--:i<d&&p++),typeof s.type!="function"&&(s.__u|=4)):u!=c&&(u==c-1?p--:u==c+1?p++:(u>c?p--:p++,s.__u|=4))):t.__k[o]=null;if(n)for(o=0;o<d;o++)(a=_[o])!=null&&(2&a.__u)==0&&(a.__e==r&&(r=L(a)),He(a,a));return r}function Se(t,e,_){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=Se(r[i],e,_));return e}t.__e!=e&&(e&&t.type&&!_.contains(e)&&(e=L(t)),_.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Ue(t,e,_,r){var i,o,s=t.key,a=t.type,c=e[_];if(c===null&&t.key==null||c&&s==c.key&&a===c.type&&(2&c.__u)==0)return _;if(r>(c!=null&&(2&c.__u)==0?1:0))for(i=_-1,o=_+1;i>=0||o<e.length;){if(i>=0){if((c=e[i])&&(2&c.__u)==0&&s==c.key&&a===c.type)return i;i--}if(o<e.length){if((c=e[o])&&(2&c.__u)==0&&s==c.key&&a===c.type)return o;o++}}return-1}function ae(t,e,_){e[0]=="-"?t.setProperty(e,_??""):t[e]=_==null?"":typeof _!="number"||Ee.test(e)?_:_+"px"}function V(t,e,_,r,i){var o;e:if(e=="style")if(typeof _=="string")t.style.cssText=_;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)_&&e in _||ae(t.style,e,"");if(_)for(e in _)r&&_[e]===r[e]||ae(t.style,e,_[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(ke,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=_,_?r?_.t=r.t:(_.t=X,t.addEventListener(e,o?Y:J,o)):t.removeEventListener(e,o?Y:J,o);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=_??"";break e}catch{}typeof _=="function"||(_==null||_===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&_==1?"":_))}}function le(t){return function(e){if(this.l){var _=this.l[e.type+t];if(e.u==null)e.u=X++;else if(e.u<_.t)return;return _(g.event?g.event(e):e)}}}function te(t,e,_,r,i,o,s,a,c,u){var d,n,p,f,h,b,w,v,m,C,H,B,M,ne,D,A,z,S=e.type;if(e.constructor!==void 0)return null;128&_.__u&&(c=!!(32&_.__u),o=[a=e.__e=_.__e]),(d=g.__b)&&d(e);e:if(typeof S=="function")try{if(v=e.props,m="prototype"in S&&S.prototype.render,C=(d=S.contextType)&&r[d.__c],H=d?C?C.props.value:d.__:r,_.__c?w=(n=e.__c=_.__c).__=n.__E:(m?e.__c=n=new S(v,H):(e.__c=n=new G(v,H),n.constructor=S,n.render=Be),C&&C.sub(n),n.props=v,n.state||(n.state={}),n.context=H,n.__n=r,p=n.__d=!0,n.__h=[],n._sb=[]),m&&n.__s==null&&(n.__s=n.state),m&&S.getDerivedStateFromProps!=null&&(n.__s==n.state&&(n.__s=$({},n.__s)),$(n.__s,S.getDerivedStateFromProps(v,n.__s))),f=n.props,h=n.state,n.__v=e,p)m&&S.getDerivedStateFromProps==null&&n.componentWillMount!=null&&n.componentWillMount(),m&&n.componentDidMount!=null&&n.__h.push(n.componentDidMount);else{if(m&&S.getDerivedStateFromProps==null&&v!==f&&n.componentWillReceiveProps!=null&&n.componentWillReceiveProps(v,H),!n.__e&&(n.shouldComponentUpdate!=null&&n.shouldComponentUpdate(v,n.__s,H)===!1||e.__v==_.__v)){for(e.__v!=_.__v&&(n.props=v,n.state=n.__s,n.__d=!1),e.__e=_.__e,e.__k=_.__k,e.__k.some(function(E){E&&(E.__=e)}),B=0;B<n._sb.length;B++)n.__h.push(n._sb[B]);n._sb=[],n.__h.length&&s.push(n);break e}n.componentWillUpdate!=null&&n.componentWillUpdate(v,n.__s,H),m&&n.componentDidUpdate!=null&&n.__h.push(function(){n.componentDidUpdate(f,h,b)})}if(n.context=H,n.props=v,n.__P=t,n.__e=!1,M=g.__r,ne=0,m){for(n.state=n.__s,n.__d=!1,M&&M(e),d=n.render(n.props,n.state,n.context),D=0;D<n._sb.length;D++)n.__h.push(n._sb[D]);n._sb=[]}else do n.__d=!1,M&&M(e),d=n.render(n.props,n.state,n.context),n.state=n.__s;while(n.__d&&++ne<25);n.state=n.__s,n.getChildContext!=null&&(r=$($({},r),n.getChildContext())),m&&!p&&n.getSnapshotBeforeUpdate!=null&&(b=n.getSnapshotBeforeUpdate(f,h)),A=d,d!=null&&d.type===x&&d.key==null&&(A=$e(d.props.children)),a=xe(t,Z(A)?A:[A],e,_,r,i,o,s,a,c,u),n.base=e.__e,e.__u&=-161,n.__h.length&&s.push(n),w&&(n.__E=n.__=null)}catch(E){if(e.__v=null,c||o!=null)if(E.then){for(e.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,e.__e=a}else for(z=o.length;z--;)ee(o[z]);else e.__e=_.__e,e.__k=_.__k;g.__e(E,e,_)}else o==null&&e.__v==_.__v?(e.__k=_.__k,e.__e=_.__e):a=e.__e=Ie(_.__e,e,_,r,i,o,s,c,u);return(d=g.diffed)&&d(e),128&e.__u?void 0:a}function Ne(t,e,_){for(var r=0;r<_.length;r++)_e(_[r],_[++r],_[++r]);g.__c&&g.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(o){o.call(i)})}catch(o){g.__e(o,i.__v)}})}function $e(t){return typeof t!="object"||t==null?t:Z(t)?t.map($e):$({},t)}function Ie(t,e,_,r,i,o,s,a,c){var u,d,n,p,f,h,b,w=_.props,v=e.props,m=e.type;if(m=="svg"?i="http://www.w3.org/2000/svg":m=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((f=o[u])&&"setAttribute"in f==!!m&&(m?f.localName==m:f.nodeType==3)){t=f,o[u]=null;break}}if(t==null){if(m==null)return document.createTextNode(v);t=document.createElementNS(i,m,v.is&&v),a&&(g.__m&&g.__m(e,o),a=!1),o=null}if(m===null)w===v||a&&t.data===v||(t.data=v);else{if(o=o&&O.call(t.childNodes),w=_.props||F,!a&&o!=null)for(w={},u=0;u<t.attributes.length;u++)w[(f=t.attributes[u]).name]=f.value;for(u in w)if(f=w[u],u!="children"){if(u=="dangerouslySetInnerHTML")n=f;else if(!(u in v)){if(u=="value"&&"defaultValue"in v||u=="checked"&&"defaultChecked"in v)continue;V(t,u,null,f,i)}}for(u in v)f=v[u],u=="children"?p=f:u=="dangerouslySetInnerHTML"?d=f:u=="value"?h=f:u=="checked"?b=f:a&&typeof f!="function"||w[u]===f||V(t,u,f,w[u],i);if(d)a||n&&(d.__html===n.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(n&&(t.innerHTML=""),xe(e.type==="template"?t.content:t,Z(p)?p:[p],e,_,r,m=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,s,o?o[0]:_.__k&&L(_,0),a,c),o!=null)for(u=o.length;u--;)ee(o[u]);a||(u="value",m=="progress"&&h==null?t.removeAttribute("value"):h!==void 0&&(h!==t[u]||m=="progress"&&!h||m=="option"&&h!==w[u])&&V(t,u,h,w[u],i),u="checked",b!==void 0&&b!==t[u]&&V(t,u,b,w[u],i))}return t}function _e(t,e,_){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){g.__e(i,_)}}function He(t,e,_){var r,i;if(g.unmount&&g.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||_e(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){g.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&He(r[i],e,_||typeof t.type!="function");_||ee(t.__e),t.__c=t.__=t.__e=void 0}function Be(t,e,_){return this.constructor(t,_)}function De(t,e,_){var r,i,o,s;e==document&&(e=document.documentElement),g.__&&g.__(t,e),i=(r=!1)?null:e.__k,o=[],s=[],te(e,t=e.__k=Re(x,null,[t]),i||F,F,e.namespaceURI,i?null:e.firstChild?O.call(e.childNodes):null,o,i?i.__e:e.firstChild,r,s),Ne(o,t,s)}O=be.slice,g={__e:function(t,e,_,r){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),s=i.__d),s)return i.__E=i}catch(a){t=a}throw t}},ge=0,G.prototype.setState=function(t,e){var _;_=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=$({},this.state),typeof t=="function"&&(t=t($({},_),this.props)),t&&$(_,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},G.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},G.prototype.render=x,P=[],ye=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,we=function(t,e){return t.__v.__b-e.__v.__b},T.__r=0,ke=/(PointerCapture)$|Capture$/i,X=0,J=le(!1),Y=le(!0);var Ve=0;function l(t,e,_,r,i,o){e||(e={});var s,a,c=e;if("ref"in c)for(a in c={},e)a=="ref"?s=e[a]:c[a]=e[a];var u={type:t,props:c,key:_,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Ve,__i:-1,__u:0,__source:i,__self:o};if(typeof t=="function"&&(s=t.defaultProps))for(a in s)c[a]===void 0&&(c[a]=s[a]);return g.vnode&&g.vnode(u),u}var U,y,Q,se,W=0,Pe=[],k=g,ce=k.__b,ue=k.__r,fe=k.diffed,de=k.__c,pe=k.unmount,he=k.__;function re(t,e){k.__h&&k.__h(y,t,W||e),W=0;var _=y.__H||(y.__H={__:[],__h:[]});return t>=_.__.length&&_.__.push({}),_.__[t]}function R(t){return W=1,je(Ae,t)}function je(t,e,_){var r=re(U++,2);if(r.t=t,!r.__c&&(r.__=[Ae(void 0,e),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=y,!y.__f)){var i=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!o||o.call(this,a,c,u);var n=r.__c.props!==a;return d.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(n=!0)}}),o&&o.call(this,a,c,u)||n};y.__f=!0;var o=y.shouldComponentUpdate,s=y.componentWillUpdate;y.componentWillUpdate=function(a,c,u){if(this.__e){var d=o;o=void 0,i(a,c,u),o=d}s&&s.call(this,a,c,u)},y.shouldComponentUpdate=i}return r.__N||r.__}function I(t,e){var _=re(U++,3);!k.__s&&Me(_.__H,e)&&(_.__=t,_.u=e,y.__H.__h.push(_))}function Ge(t,e){var _=re(U++,7);return Me(_.__H,e)&&(_.__=t(),_.__H=e,_.__h=t),_.__}function Le(t,e){return W=8,Ge(function(){return t},e)}function qe(){for(var t;t=Pe.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(q),t.__H.__h.forEach(K),t.__H.__h=[]}catch(e){t.__H.__h=[],k.__e(e,t.__v)}}k.__b=function(t){y=null,ce&&ce(t)},k.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),he&&he(t,e)},k.__r=function(t){ue&&ue(t),U=0;var e=(y=t.__c).__H;e&&(Q===y?(e.__h=[],y.__h=[],e.__.forEach(function(_){_.__N&&(_.__=_.__N),_.u=_.__N=void 0})):(e.__h.forEach(q),e.__h.forEach(K),e.__h=[],U=0)),Q=y},k.diffed=function(t){fe&&fe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Pe.push(e)!==1&&se===k.requestAnimationFrame||((se=k.requestAnimationFrame)||Te)(qe)),e.__H.__.forEach(function(_){_.u&&(_.__H=_.u),_.u=void 0})),Q=y=null},k.__c=function(t,e){e.some(function(_){try{_.__h.forEach(q),_.__h=_.__h.filter(function(r){return!r.__||K(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],k.__e(r,_.__v)}}),de&&de(t,e)},k.unmount=function(t){pe&&pe(t);var e,_=t.__c;_&&_.__H&&(_.__H.__.forEach(function(r){try{q(r)}catch(i){e=i}}),_.__H=void 0,e&&k.__e(e,_.__v))};var ve=typeof requestAnimationFrame=="function";function Te(t){var e,_=function(){clearTimeout(r),ve&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(_,100);ve&&(e=requestAnimationFrame(_))}function q(t){var e=y,_=t.__c;typeof _=="function"&&(t.__c=void 0,_()),y=e}function K(t){var e=y;t.__c=t.__(),y=e}function Me(t,e){return!t||t.length!==e.length||e.some(function(_,r){return _!==t[r]})}function Ae(t,e){return typeof e=="function"?e(t):e}const We=(t,e="EUR")=>{const _=t/100;return new Intl.NumberFormat("es-ES",{style:"currency",currency:e}).format(_)},Oe=({tierLevel:t,maxPrice:e,cartTotalPrice:_})=>l("div",{className:"cart-toast__reward-tier",children:l("div",{className:"cart-toast__reward-tier-icon-wrapper",children:[l("div",{className:`cart-toast__reward-tier-icon ${_>=e?"cart-toast__reward-tier-icon-active":""}`,children:l("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",id:"discount",class:"icon glyph",fill:"#ffffff",children:[l("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),l("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),l("g",{id:"SVGRepo_iconCarrier",children:l("path",{d:"M21.59,9.83A4.21,4.21,0,0,1,21.17,9,4.73,4.73,0,0,1,21,8.07a4.19,4.19,0,0,0-.64-2.16,4.15,4.15,0,0,0-1.87-1.28,4.36,4.36,0,0,1-.84-.43A4.55,4.55,0,0,1,17,3.54a4.29,4.29,0,0,0-1.81-1.4A4.19,4.19,0,0,0,13,2.21a4.24,4.24,0,0,1-1.94,0A4.19,4.19,0,0,0,8.8,2.14,4.29,4.29,0,0,0,7,3.54a4.55,4.55,0,0,1-.66.66,4.36,4.36,0,0,1-.84.43A4.15,4.15,0,0,0,3.62,5.91,4.19,4.19,0,0,0,3,8.07,4.73,4.73,0,0,1,2.83,9a4.21,4.21,0,0,1-.42.81A4.3,4.3,0,0,0,1.64,12a4.3,4.3,0,0,0,.77,2.17,4.21,4.21,0,0,1,.42.81,4.73,4.73,0,0,1,.15.95,4.19,4.19,0,0,0,.64,2.16,4.15,4.15,0,0,0,1.87,1.28,4.36,4.36,0,0,1,.84.43,4.55,4.55,0,0,1,.66.66,4.29,4.29,0,0,0,1.81,1.4,2.91,2.91,0,0,0,.87.13,6,6,0,0,0,1.36-.2,4.24,4.24,0,0,1,1.94,0,4.19,4.19,0,0,0,2.23.07A4.29,4.29,0,0,0,17,20.46a4.55,4.55,0,0,1,.66-.66,4.36,4.36,0,0,1,.84-.43,4.15,4.15,0,0,0,1.87-1.28A4.19,4.19,0,0,0,21,15.93a4.73,4.73,0,0,1,.15-.95,4.21,4.21,0,0,1,.42-.81A4.3,4.3,0,0,0,22.36,12,4.3,4.3,0,0,0,21.59,9.83ZM9.5,8A1.5,1.5,0,1,1,8,9.5,1.5,1.5,0,0,1,9.5,8Zm5,8A1.5,1.5,0,1,1,16,14.5,1.5,1.5,0,0,1,14.5,16Zm1.21-6.29-6,6a1,1,0,0,1-1.42,0,1,1,0,0,1,0-1.42l6-6a1,1,0,0,1,1.42,1.42Z",style:"fill:#fff"})})]})}),l("span",{className:"cart-toast__reward-tier-text",children:_<e?t:l(x,{children:[l("span",{className:"cart-toast__reward-tier-text-boost",children:l("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),l("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),l("g",{id:"SVGRepo_iconCarrier",children:[" ",l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM16.0303 8.96967C16.3232 9.26256 16.3232 9.73744 16.0303 10.0303L11.0303 15.0303C10.7374 15.3232 10.2626 15.3232 9.96967 15.0303L7.96967 13.0303C7.67678 12.7374 7.67678 12.2626 7.96967 11.9697C8.26256 11.6768 8.73744 11.6768 9.03033 11.9697L10.5 13.4393L12.7348 11.2045L14.9697 8.96967C15.2626 8.67678 15.7374 8.67678 16.0303 8.96967Z",fill:"#de9151"})," "]})]})}),l("span",{className:"cart-toast__reward-tier-text-span",children:t})]})})]})}),Ze=({cartTotalPrice:t,maxPrice:e})=>{const _=Le(()=>Math.max(0,Math.min(100,t/e*100)),[t]),r=[{tierLevel:"5% off!",maxPrice:18},{tierLevel:"10% off!",maxPrice:36},{tierLevel:"15% off!",maxPrice:54},{tierLevel:"20% off!",maxPrice:72}];return l(x,{children:l("div",{className:"cart-toast__progress-bar-wrapper",children:[l("div",{className:"cart-toast__progress-bar",children:l("div",{className:"cart-toast__progress-bar-fill",style:`display: inline-block; width: calc(${_()}% + 1px);`})}),l("div",{className:"cart-toast__tier-bar",children:r.map((i,o)=>l(x,{children:l(Oe,{tierLevel:i.tierLevel,maxPrice:i.maxPrice,cartTotalPrice:t},o)}))})]})})};function ze({index:t,item:e,setCartTotalPrice:_}){var a,c;const[r,i]=R(e.quantity??0),[o,s]=R(e.final_line_price??0);return I(()=>{console.log("Line Item Count",e.quantity)}),l("li",{className:"cart-toast__item",children:[l("div",{className:"cart-toast__item-image-wrapper",children:l("img",{alt:String((a=e.featured_image)==null?void 0:a.alt),src:String((c=e.featured_image)==null?void 0:c.url),className:"cart-toast__item-image"})}),l("div",{className:"cart-toast__item-details",children:[l("a",{href:e.url,children:e.title}),l("p",{children:"Coffee Product From: Ground"}),l("p",{children:"Flavor: Coffee"})]}),l("div",{className:"cart-toast__item-quantity",children:l(Qe,{quantity:r,setQuantity:i,setCartTotalPrice:_,item:e,lineItemPrice:o,setLineItemPrice:s})})]},t)}function Qe({item:t,setCartTotalPrice:e,quantity:_,setQuantity:r,lineItemPrice:i,setLineItemPrice:o}){return I(()=>{r(t.quantity??0),o(t.final_line_price??0)},[t.key]),I(()=>{const a=new FormData;a.append(`updates[${t.key}]`,String(_));const c=async()=>{var u;try{const n=await(await fetch("/cart/update.js",{method:"POST",body:a})).json();console.log("Data Response",n),e(n.total_price/100),o(((u=n.items.find(p=>p.key===t.key))==null?void 0:u.final_line_price)??0)}catch(d){console.error("Error updating cart:",d)}};console.log("Quantity",_),c()},[_,t.key]),l("div",{children:[l("div",{className:"cart-toast__item-quantity-wrapper",children:l("form",{action:"cart/update.js",method:"post",className:"cart-toast__item-quantity-form",children:l("select",{value:_,name:"quantity",id:"quantity-input",onChange:a=>{const c=parseInt(a.target.value);r(c)},children:[l("option",{value:"0",children:"Remove"}),Array.from({length:10},(a,c)=>l("option",{value:c+1,children:c+1},c))]})})}),l("p",{children:We(i)})]})}function Je({cartTotalPrice:t,cartCurrency:e,cartState:_}){var f;const[r,i]=R(_),[o,s]=R(t/100),[a,c]=R(!1),u=72;I(()=>{console.log("Cart Item Count From Preact",o);const h=document.getElementById("cart-toast");if(!h)return;const b=new MutationObserver(w=>{let v=!1,m=!1;if(w.forEach(C=>{C.type==="attributes"&&(C.attributeName==="data-total-price"?v=!0:C.attributeName==="data-cart-state"&&(m=!0))}),v){const C=parseInt(h.dataset.totalPrice||"0");s(C/100)}if(m&&h.dataset.cartState)try{const C=JSON.parse(h.dataset.cartState);i(C)}catch(C){console.error("Error parsing cart state:",C)}});return b.observe(h,{attributes:!0}),()=>b.disconnect()},[o]),I(()=>{console.log("Updated Cart State",r)},[r]);const d=()=>{c(!a)},n=()=>{c(!1)},p=Le(h=>h<18?`ðŸŽ Spend ${e}${18-h},  get 5% off!`:h>=20&&h<38?`ðŸŽ Spend ${e}${34-h},  get 10% off!`:h>=34&&h<56?`ðŸŽ Spend ${e}${52-h},  get 15% off!`:h>=52&&h<72?`ðŸŽ Spend ${e}${70-h},  get 20% off!`:"ðŸŽ‰ You have unlocked the 20% off!",[o]);return l(x,{children:[l("div",{onClick:n,class:"cart-toast__backdrop",style:a?"display: block":"display: none"}),l("div",{className:`cart-toast__wrapper ${a?"cart-toast__open":""}`,children:[l("div",{onClick:d,className:"cart-toast__header",children:[l("p",{className:"cart-toast__header-text",children:[l("span",{className:`cart-toast__total-price-text ${a?"cart-toast__total-price-text-centered":""}`,children:p(o)}),l("span",{className:"cart-toast__header-icons",children:a?l(x,{children:l("button",{className:"cart-toast__close-btn",children:l("svg",{width:"20px",height:"20px",viewBox:"-0.5 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),l("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),l("g",{id:"SVGRepo_iconCarrier",children:[" ",l("path",{d:"M3 21.32L21 3.32001",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," ",l("path",{d:"M3 3.32001L21 21.32",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]})})}):l(x,{children:[l("span",{children:l("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#ffffff",children:[l("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),l("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),l("g",{id:"SVGRepo_iconCarrier",children:[" ",l("path",{d:"M6.29977 5H21L19 12H7.37671M20 16H8L6 3H3M9 20C9 20.5523 8.55228 21 8 21C7.44772 21 7 20.5523 7 20C7 19.4477 7.44772 19 8 19C8.55228 19 9 19.4477 9 20ZM20 20C20 20.5523 19.5523 21 19 21C18.4477 21 18 20.5523 18 20C18 19.4477 18.4477 19 19 19C19.5523 19 20 19.4477 20 20Z",stroke:"#fff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]})}),l("span",{children:l("svg",{fill:"#ffffff",width:"15px",height:"15px",viewBox:"0 0 32 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[l("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),l("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),l("g",{id:"SVGRepo_iconCarrier",children:[" ",l("path",{d:"M0.256 23.481c0 0.269 0.106 0.544 0.313 0.75 0.412 0.413 1.087 0.413 1.5 0l14.119-14.119 13.913 13.912c0.413 0.413 1.087 0.413 1.5 0s0.413-1.087 0-1.5l-14.663-14.669c-0.413-0.412-1.088-0.412-1.5 0l-14.869 14.869c-0.213 0.212-0.313 0.481-0.313 0.756z"})," "]})]})})]})})]}),l(Ze,{maxPrice:u,cartTotalPrice:o})]}),l("div",{className:"cart-toast__content",children:r.item_count?l(x,{children:l("div",{className:"cart-toast__items-list-wrapper",children:l("ul",{className:"cart-toast__items-list",children:(f=r.items)==null?void 0:f.map((h,b)=>l(ze,{index:b,item:h,setCartTotalPrice:s},b))})})}):"No items in cart"})]})]})}const N=document.getElementById("cart-toast"),Ye=parseInt((N==null?void 0:N.dataset.totalPrice)||"0",10);var me;const Ke=((me=N==null?void 0:N.dataset.currency)==null?void 0:me.charAt(0))||"$",Xe=JSON.parse((N==null?void 0:N.dataset.cartState)||"{}");De(l(Je,{cartTotalPrice:Ye,cartCurrency:Ke,cartState:Xe}),N);
